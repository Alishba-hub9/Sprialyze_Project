var getUsersTemplate=(t,a,e)=>`
<div class="item testimonial-wrapper">
<div class="row w-100">
<div class="col-12 col-sm-4">
<img src="${e}" alt="${t}" />
</div>
<div class="col-12 col-sm-8">
<div class="testimonial-content">
<h3>${t}</h3>
<h5>${a}</h5>
</div>
</div>
</div>
</div>
`,getTableRowTemplate=t=>`
  <tr data-id="${t.id}">
    <td data-key="firstName">${t.firstName}</td>
    <td data-key="lastName">${t.lastName}</td>
    <td data-key="email">${t.email}</td>
    <td data-key="company">${t.company}</td>
    <td data-key="country">${t.country}</td>
    <td>
      <button class="edit-btn" data-id="${t.id}" data-action="edit" ><i class="fa-solid fa-pencil"></i></button>
      <button class="delete-btn" data-id="${t.id}" data-action="delete" ><i class="fa-solid fa-trash"></i></button>
    </td>
  </tr>
`,formDataApiUrl="http://localhost:3000/formData",fetchFormData=async()=>{try{var t=await $.ajax(formDataApiUrl);$(".records-table-body").html(t.map(getTableRowTemplate).join("")),console.log(t)}catch(t){console.error("Error fetching records:",t)}},initTestimonialsCarousel=(fetchFormData(),$(".records-table-body").on("click","button",async function(){var t=$(this).data("action"),a=$(this).data("id");let e=$(this).closest("tr");if("edit"===t&&($(".edit-data-form [name]").each(function(){$(this).val(e.find(`td[data-key="${$(this).attr("name")}"]`).text())}),$(".edit-data-form").data("id",a).fadeIn()),"delete"===t)try{await $.ajax({url:formDataApiUrl+"/"+a,type:"DELETE"}),e.fadeOut()}catch(t){console.error("Error deleting record:",t)}}),$(".edit-data-form").on("submit",async function(t){t.preventDefault();var t=$(this).data("id"),a=new FormData(this),a={id:t,...Object.fromEntries(a.entries())};console.log(a);try{await $.ajax({url:formDataApiUrl+"/"+t,type:"PUT",contentType:"application/json",data:JSON.stringify(a)}),alert("User data updated successfully!"),$(".records-table-body").find(`tr[data-id='${t}']`).replaceWith(getTableRowTemplate(a)),$(".edit-data-form").fadeOut()}catch(t){console.error("Error updating record:",t),alert("Failed to update user data.")}}),$(".cancel-button").on("click",t=>{t.preventDefault(),$(".edit-data-form").fadeOut()}),()=>{$(".owl-carousel").owlCarousel({loop:!0,items:1,margin:10,nav:!0,navText:['<a href="javascript:void(0)"><span class="carousel-prev-arrow"></span></a>','<a href="javascript:void(0)"><span class="carousel-next-arrow"></span></a>'],dots:!0,responsive:{0:{items:1,nav:!1},768:{items:1},1e3:{items:1}}})}),getUsers=async()=>{var t=await $.ajax({url:"https://jsonplaceholder.typicode.com/users?_limit=3"}),t=await Promise.all(t.map(async t=>{var a=(await $.ajax({url:"https://randomuser.me/api/"})).results[0].picture.large;return getUsersTemplate(t.name,t.company.catchPhrase,a)}));$(".testimonials-carousel").html(t.join(" ")),initTestimonialsCarousel(),$(".spinner-border").hide()};getUsers(),Fancybox.bind("[data-fancybox]",{}),$(".custom-form").on("submit",function(t){t.preventDefault();let a=!0,e=new FormData(this),r=Object.fromEntries(e.entries());$(".error-tooltip").hide(),$(".input-wrapper").removeClass("error"),$(".required-field").each(function(){if(!$(this).val().trim())return a=!1,$(this).siblings(".error-tooltip").show(),$(this).closest(".input-wrapper").addClass("error"),$(this).trigger("focus"),!1}),a&&$.ajax({url:"http://localhost:3000/formData",method:"POST",contentType:"application/json",data:JSON.stringify(r),success:()=>{$(".required-field").val(""),alert("Form submitted successfully!")},error:()=>{alert("Form submission failed!")}})}),$(".required-field").on("input",function(){$(this).val()&&($(this).siblings(".error-tooltip").hide(),$(this).closest(".input-wrapper").removeClass("error"))});